/*
 * This file contains utility functions that can be imported and used in
 * other modules.
 */

@use "../user.config" as user;
@use "sass:selector";
@use "sass:string";
@use "sass:list";

@mixin add-pseudo-classes($selector, $classes...) {
  // Adds pseudo classes dynamically to a given selector.
  @content;
  @each $class in $classes {
    @at-root .#{$class}\:#{selector.append(string.slice(#{list.nth($selector, 1)}, 2, -1), ":" + $class)} {
      @content;
    }
  }
  @each $label, $breakpoint in user.$breakpoints {
    @at-root .#{$label}\:#{&} {
      @content;
    }
    @each $class in $classes {
      @at-root .#{$label}\:#{$class}\:#{selector.append(string.slice(#{list.nth($selector, 1)}, 2, -1), ":" + $class)} {
        @content;
      }
    }
  }
}
